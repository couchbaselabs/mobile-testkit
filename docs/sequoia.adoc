Download and build
```
$ go get https://github.com/couchbaselabs/sequoia
$ go build
```

Edit the providers/docker/options.yml file to specify the versions you would like to use

1. Setup the Sync Gateway + Couchbase Server cluster
```
$ ./sequoia -test tests/mobile/test_sg.yml -scope tests/mobile/1sg_1cbs.yml --expose_ports --skip_teardown --skip_test --network cbl
```

2. Copy the hosts.json from sequoia/containers/mobile-testkit/hosts.json to root of mobile-testkit repo

3. Mount testkit. Make sure to do this from the same director as the root directory of your development repository. This will mirror your local repo in the container and allow changes you make on the host to mirror in the container context 
```
$ docker run --privileged -it --network=cbl --name mobile-testkit -v $(pwd):/opt/mobile-testkit -v /var/run/docker.sock:/var/run/docker.sock -v /usr/bin/docker:/usr/bin/docker couchbase/mobile-testkit /bin/bash
[mobile-teskit] $ python libraries/utilities/generate_config_from_sequoia.py --host-file hosts.json --topology base_cc
```

4. Run tests (Functional or System)
```
[mobile-teskit] $ pytest -s --skip-provisioning --xattrs --mode=cc --server-version=5.0.0-3217 --sync-gateway-version=1.5.0-465 testsuites/syncgateway/functional/tests/
```