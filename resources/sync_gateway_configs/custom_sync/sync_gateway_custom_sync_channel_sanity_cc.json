{
    "interface":":4984",
    "adminInterface": "0.0.0.0:4985",
    "maxIncomingConnections": 0,
    "maxCouchbaseConnections": 16,
    "maxFileDescriptors": 90000,
    "slowServerCallWarningThreshold": 500,
    "compressResponses": false,
    {{ logging }}
    "verbose":"true",
    {{ sslcert }}
    {{ sslkey }}
    "databases":{
        "db":{
            {{ autoimport }}
            {{ xattrs }}
            {{ no_conflicts }}
            {{ sg_use_views }}
            {{ num_index_replicas }}
            {{ username }}
            {{ password }}
            {{ cacertpath }}
            {{ certpath }}
            {{ keypath }}
            "server":"{{ server_scheme }}://{{ couchbase_server_primary_node }}:{{ server_port }}",
            "bucket":"data-bucket",
            "sync":
            `function(doc, oldDoc){

                if (oldDoc == null && doc.channels) {
                    // When docs are created, send them to one channel
                    channel("tv_station_channel");
                } else if (oldDoc != null && doc.channels) {
                    // When docs are updated, send them to their original channel
                    channel(doc.channels);
                } else {
                    throw({forbidden: "No channel!"});
                }
            }`
        }
    }
}

